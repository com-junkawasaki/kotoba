# Dashboard Page Component
# Next.jsのapp/dashboard/page.jsに相当

component: DashboardPage
type: page
environment: server

props:
  title: "Dashboard Overview"
  user: "{{user}}" # ルートパラメータ

children:
  - component: WelcomeCard
    type: server
    props:
      user: "{{user}}"
      last_login: "{{lastLogin}}"

  - component: StatsGrid
    type: server
    props:
      stats:
        - title: "Total Users"
          value: "1,234"
          change: "+12%"
          icon: "👥"
        - title: "Revenue"
          value: "$45,678"
          change: "+8%"
          icon: "💰"
        - title: "Orders"
          value: "89"
          change: "+23%"
          icon: "📦"

  - component: RecentActivity
    type: client
    props:
      activities: [] # クライアント側でフェッチ

imports:
  - module: "react"
    specifiers: ["useState", "useEffect", "Suspense"]
  - module: "../../components/WelcomeCard"
    specifiers: ["WelcomeCard"]
    is_default: true
  - module: "../../components/StatsGrid"
    specifiers: ["StatsGrid"]
    is_default: true
  - module: "../../components/RecentActivity"
    specifiers: ["RecentActivity"]
    is_default: true

state:
  user: null
  stats: null
  activities: []

hooks:
  - type: useState
    variable: "user"
    initial_value: null
  - type: useState
    variable: "stats"
    initial_value: null
  - type: useEffect
    dependencies: []
    effect_code: |
      // ユーザー情報と統計情報をフェッチ
      fetchUserData();
      fetchStats();

middleware:
  - name: auth
    function: requireAuth

metadata:
  title: "Dashboard | Kotoba App"
  requires_auth: true
